<!DOCTYPE HTML>
<html lang="zh-CN">
    <!-- shw2018 洪卫  modify 2019.08.15-->



<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Spring Boot, Spring Cloud, 微服务, Java技术, 好好学java, Java面试, 分布式, 最新干货分享">
    <meta name="baidu-site-verification" content="fmlEuI34ir" />
    <meta name="google-site-verification" content="ZWVq5UvPg33BCEA3LRTUkYe5J854o9lF1_WRTer9l8A" />
    <meta name="description" content="本站是 好好学java 的技术分享博客。内容涵盖Java后端技术、Spring Boot、Spring Cloud、微服务架构、分布式、Java面试、测试开发等相关的研究与知识分享。">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>15000 字的 SQL 语句大全 | 好好学java | Spring Boot | Spring Cloud | 微服务 | Java技术 | Java面试 | 分布式 | 最新干货分享</title>
    <link rel="icon" type="image/png" href="http://image.ouyangsihai.cn/FjihsEiBMONnJIRtPwgGkjE4HAP7">

    <!-- <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css"> -->
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <!-- 自定义fontawesome样式：欧阳思海 -->
    <link rel="stylesheet" type="text/css" href="/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/css/brands.min.css">
    <link rel="stylesheet" type="text/css" href="/css/fontawesome.min.css">
    <link rel="stylesheet" type="text/css" href="/css/regular.min.css">
    <link rel="stylesheet" type="text/css" href="/css/solid.min.css">


    <style type="text/css">
        code[class*="language-"],
            pre[class*="language-"] {
                white-space: pre !important;
            }

            

        /* 将matery.css中的背景颜色修改放到这里：欧阳思海 */
        .bg-color {
            background-image: linear-gradient(to right, #ec8585 0%, #419488 100%);
            opacity: 0.9;
            // 透明度
        }
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>

    
    
    <script>
        (function () {
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>
    

    <script>
        var _hmt = _hmt || [];
        (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?6fe466069710c03a563713b507fbaca7";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
        })();
    </script>


    <!-- Google Analytics -->
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-XXXXX-Y', 'auto');
        ga('send', 'pageview');
    </script>
    <!-- End Google Analytics -->

    <script>(function (i, s, o, g, r, a, m) { i["DaoVoiceObject"] = r; i[r] = i[r] || function () { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o), m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; a.charset = "utf-8"; m.parentNode.insertBefore(a, m) })(window, document, "script", ('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/0a804bac.js", "daovoice")</script>

    <script>
        if (true) {
            daovoice('init', {
                app_id: "0a804bac",
                user_id: "NO_89757", // 必填: 该用户在您系统上的唯一ID
                email: "daovoice@example.com", // 选填:  该用户在您系统上的主邮箱
                name: "道客船长", // 选填: 用户名
                signed_up: 1449821660 // 选填: 用户的注册时间，用Unix时间戳表示
            });
            daovoice('update');

            daovoice('init', {
                app_id: "0a804bac"
            });
            daovoice('update');
        }
    </script>
<meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/rss2.xml" title="好好学java" type="application/rss+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

    <body>

        <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="http://image.ouyangsihai.cn/FjihsEiBMONnJIRtPwgGkjE4HAP7" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span" style="font-size: 1.4rem;">好好学java</span>
                </a>
            </div>
            


<!-- <a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="" class="waves-effect waves-light">
            
            <i class="fa "></i>
            
            <span></span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title=""></i>
        </a>
    </li>
</ul> -->

<!-- 支持二级菜单特性 洪卫 shw2018 modify 2019.09.17  -->
<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-align-justify"></i></a>
<ul class="right nav-menu">
    
      <li class="hide-on-med-and-down nav-item" >

        
              <a href="/categories/" class="waves-effect waves-light">
                
                  <i style="font-size: 1.1rem;" class="fa fa-folder-minus"></i>
                
                <span style="font-size: 1.1rem;">Java学习</span>
                <i style="font-size: 1.1rem;" class="fa fa-chevron-down" aria-hidden="true"></i>
              </a>

            <ul class="sub-nav menus_item_child ">
              
                <li> 
                  <a href="/categories/Java%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86/" >
                    
                    <span>Java入门</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/Javaweb/" >
                    
                    <span>Java Web</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/spring%E6%95%99%E7%A8%8B/" >
                    
                    <span>Spring教程</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/springboot%E6%95%99%E7%A8%8B/" >
                    
                    <span>SpringBoot教程</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/springcloud%E6%95%99%E7%A8%8B/" >
                    
                    <span>SpringCloud教程</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/Java%E9%9D%A2%E8%AF%95%E9%A2%98/" >
                    
                    <span>Java面试</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/%E5%89%91%E6%8C%87offer/" >
                    
                    <span>剑指offer</span>
                  </a>
                </li>
               
            </ul>
          
      </li>
    
      <li class="hide-on-med-and-down nav-item" >

        
              <a href="/categories/" class="waves-effect waves-light">
                
                  <i style="font-size: 1.1rem;" class="fa fa-code-branch"></i>
                
                <span style="font-size: 1.1rem;">Java进阶</span>
                <i style="font-size: 1.1rem;" class="fa fa-chevron-down" aria-hidden="true"></i>
              </a>

            <ul class="sub-nav menus_item_child ">
              
                <li> 
                  <a href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%B3%BB%E5%88%97/" >
                    
                    <span>设计模式</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" >
                    
                    <span>Java并发编程</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3/" >
                    
                    <span>数据库</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/redis/" >
                    
                    <span>Redis</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/linux/" >
                    
                    <span>Linux</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/" >
                    
                    <span>Java实战项目</span>
                  </a>
                </li>
               
            </ul>
          
      </li>
    
      <li class="hide-on-med-and-down nav-item" >

        
              <a href="/categories/" class="waves-effect waves-light">
                
                  <i style="font-size: 1.1rem;" class="fa fa-code"></i>
                
                <span style="font-size: 1.1rem;">python学习</span>
                <i style="font-size: 1.1rem;" class="fa fa-chevron-down" aria-hidden="true"></i>
              </a>

            <ul class="sub-nav menus_item_child ">
              
                <li> 
                  <a href="/categories/python%E5%9F%BA%E7%A1%80/" >
                    
                    <span>python基础</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/python%E6%A1%86%E6%9E%B6/" >
                    
                    <span>python框架</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/python%E5%85%B6%E4%BB%96/" >
                    
                    <span>python其他</span>
                  </a>
                </li>
               
            </ul>
          
      </li>
    
      <li class="hide-on-med-and-down nav-item" >

        
              <a href="/categories/" class="waves-effect waves-light">
                
                  <i style="font-size: 1.1rem;" class="fa fa-coffee"></i>
                
                <span style="font-size: 1.1rem;">Java扩展</span>
                <i style="font-size: 1.1rem;" class="fa fa-chevron-down" aria-hidden="true"></i>
              </a>

            <ul class="sub-nav menus_item_child ">
              
                <li> 
                  <a href="/categories/dubbo/" >
                    
                    <span>dubbo</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/netty/" >
                    
                    <span>netty</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/rpc/" >
                    
                    <span>rpc</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/eureka/" >
                    
                    <span>eureka</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/" >
                    
                    <span>中间件</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/" >
                    
                    <span>分布式</span>
                  </a>
                </li>
               
            </ul>
          
      </li>
    
      <li class="hide-on-med-and-down nav-item" >

        
              <a href="/categories/" class="waves-effect waves-light">
                
                  <i style="font-size: 1.1rem;" class="fa fa-desktop"></i>
                
                <span style="font-size: 1.1rem;">计算机核心</span>
                <i style="font-size: 1.1rem;" class="fa fa-chevron-down" aria-hidden="true"></i>
              </a>

            <ul class="sub-nav menus_item_child ">
              
                <li> 
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" >
                    
                    <span>数据结构</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/leetcode%E5%88%B7%E9%A2%98/" >
                    
                    <span>leetcode刷题</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" >
                    
                    <span>计算机网络</span>
                  </a>
                </li>
              
                <li> 
                  <a href="/categories/%E7%AE%97%E6%B3%95/" >
                    
                    <span>算法</span>
                  </a>
                </li>
               
            </ul>
          
      </li>
    
      <li class="hide-on-med-and-down nav-item" >

        
            <a href="/categories/" class="waves-effect waves-light">
              
                <i style="font-size: 1.1rem;" class="fa fa-adjust"></i>
              
              <span style="font-size: 1.1rem;">学习资源</span>
            </a>

            
      </li>
    
      <li class="hide-on-med-and-down nav-item" >

        
            <a href="/contact" class="waves-effect waves-light">
              
                <i style="font-size: 1.1rem;" class="fa fa-envelope"></i>
              
              <span style="font-size: 1.1rem;">留言</span>
            </a>

            
      </li>
    

    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>

</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="http://image.ouyangsihai.cn/FjihsEiBMONnJIRtPwgGkjE4HAP7" class="logo-img circle responsive-img">
        
        <div class="logo-name">好好学java</div>
        <div class="logo-desc">
            
            
            本站是 好好学java 的技术分享博客，涵盖Java后端技术、SpringBoot、微服务架构、分布式、Java面试等知 ...
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa fa-fw fa-folder-minus"></i>
			
			Java学习
			<span class="m-icon"><i class="fa fa-chevron-right"></i></span>
		</a>
            <ul  >
              
                <li>   
				
                  <a href="/categories/Java%E6%A0%B8%E5%BF%83%E7%9F%A5%E8%AF%86/ " style="margin-left:75px";>
				  
		          <span>Java入门</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/Javaweb/ " style="margin-left:75px";>
				  
		          <span>Java Web</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/spring%E6%95%99%E7%A8%8B/ " style="margin-left:75px";>
				  
		          <span>Spring教程</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/springboot%E6%95%99%E7%A8%8B/ " style="margin-left:75px";>
				  
		          <span>SpringBoot教程</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/springcloud%E6%95%99%E7%A8%8B/ " style="margin-left:75px";>
				  
		          <span>SpringCloud教程</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/Java%E9%9D%A2%E8%AF%95%E9%A2%98/ " style="margin-left:75px";>
				  
		          <span>Java面试</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/%E5%89%91%E6%8C%87offer/ " style="margin-left:75px";>
				  
		          <span>剑指offer</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa fa-fw fa-code-branch"></i>
			
			Java进阶
			<span class="m-icon"><i class="fa fa-chevron-right"></i></span>
		</a>
            <ul  >
              
                <li>   
				
                  <a href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%B3%BB%E5%88%97/ " style="margin-left:75px";>
				  
		          <span>设计模式</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/ " style="margin-left:75px";>
				  
		          <span>Java并发编程</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3/ " style="margin-left:75px";>
				  
		          <span>数据库</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/redis/ " style="margin-left:75px";>
				  
		          <span>Redis</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/linux/ " style="margin-left:75px";>
				  
		          <span>Linux</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/ " style="margin-left:75px";>
				  
		          <span>Java实战项目</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa fa-fw fa-code"></i>
			
			python学习
			<span class="m-icon"><i class="fa fa-chevron-right"></i></span>
		</a>
            <ul  >
              
                <li>   
				
                  <a href="/categories/python%E5%9F%BA%E7%A1%80/ " style="margin-left:75px";>
				  
		          <span>python基础</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/python%E6%A1%86%E6%9E%B6/ " style="margin-left:75px";>
				  
		          <span>python框架</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/python%E5%85%B6%E4%BB%96/ " style="margin-left:75px";>
				  
		          <span>python其他</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa fa-fw fa-coffee"></i>
			
			Java扩展
			<span class="m-icon"><i class="fa fa-chevron-right"></i></span>
		</a>
            <ul  >
              
                <li>   
				
                  <a href="/categories/dubbo/ " style="margin-left:75px";>
				  
		          <span>dubbo</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/netty/ " style="margin-left:75px";>
				  
		          <span>netty</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/rpc/ " style="margin-left:75px";>
				  
		          <span>rpc</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/eureka/ " style="margin-left:75px";>
				  
		          <span>eureka</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/ " style="margin-left:75px";>
				  
		          <span>中间件</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/ " style="margin-left:75px";>
				  
		          <span>分布式</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa fa-fw fa-desktop"></i>
			
			计算机核心
			<span class="m-icon"><i class="fa fa-chevron-right"></i></span>
		</a>
            <ul  >
              
                <li>   
				
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/ " style="margin-left:75px";>
				  
		          <span>数据结构</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/leetcode%E5%88%B7%E9%A2%98/ " style="margin-left:75px";>
				  
		          <span>leetcode刷题</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/ " style="margin-left:75px";>
				  
		          <span>计算机网络</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/%E7%AE%97%E6%B3%95/ " style="margin-left:75px";>
				  
		          <span>算法</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories/" class="waves-effect waves-light">
			
			    <i class="fa fa-fw fa-adjust"></i>
			
			学习资源
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa fa-fw fa-envelope"></i>
			
			留言
		</a>
          
        </li>
        
        
    </ul>
</div>

        </div>

        
    </nav>

</header>

        



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/9.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        15000 字的 SQL 语句大全
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }

    /* 自定义mycard：欧阳思海 */

    #my-card {
        /* position: relative; */
        width: 310px;
        height: 300px;
        /* max-height: 330px; */
        margin-bottom: 15px;
        margin-top: 15px;
        /* text-align: center; */
        border: 0;
        border-radius: 3px;
        color: rgba(0, 0, 0, .87);
        background: #fff 50%;
        background-image: none;
        background-size: auto;
        background-size: cover;
        box-shadow: 0 15px 35px rgba(50, 50, 93, .1), 0 5px 15px rgba(0, 0, 0, .07);
    }

    /* .widget {
        line-height: 1.6em;
        word-wrap: break-word;
        font-size: 0.9em;
        padding-top: 15px;
        padding-left: -45px;
    } */
</style>




<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- shw2018 洪卫  modify 2019.08.15-->

<!-- 代码块修改的代码开始 -->
<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFunction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>

<!-- 代码块修改代码结束 -->


<!-- 文章内容详情 -->
<div id="container">
    <div id="artDetail">
        <div class="card">
            <div class="card-content article-info">
                <div class="row tag-cate">
                    <div class="col s7">
                        
                        <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                        </div>
                        
                    </div>
                    <div class="col s5 right-align">
                        
                        <div class="post-cate">
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%A5%BD%E5%A5%BD%E5%AD%A6java/" class="post-category" target="_blank">
                                好好学java
                            </a>
                            
                        </div>
                        
                    </div>
                </div>

                <div class="post-info">
                    <div class="post-date info-break-policy">
                        <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                        2021-04-04
                    </div>

                    <div class="post-author info-break-policy">
                        <i class="fa fa-user-o fa-fw"></i>作者:&nbsp;&nbsp;
                        
                        欧阳思海
                        
                    </div>

                    
                    
                    <div class="info-break-policy">
                        <i class="fa fa-file-word-o fa-fw"></i>文章字数:&nbsp;&nbsp;
                        6.7k
                    </div>
                    

                    
                    <div class="info-break-policy">
                        <i class="fa fa-clock-o fa-fw"></i>阅读时长:&nbsp;&nbsp;
                        28 分
                    </div>
                    
                    

                    
                    <span id="busuanzi_container_site_pv" style='display:none'></span>
                    <i class="fa fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                    <span id="busuanzi_value_page_pv"></span>

                    

                </div>
            </div>
            <hr class="clearfix">
            <div class="card-content article-card-content">
                <!-- 欧阳思海，modify，2020.05.01-->
<!-- 文章详情详情页面的头部广告位置信息 -->
<div id="post-head-panel">
    
    <a href="https://github.com/OUYANGSIHAI/JavaInterview" style="font-size: 18px;" target="_blank">
        <img src="/icons/hot.gif">
        本人花费半年的时间总结的《Java面试指南》已拿腾讯等大厂offer，已开源在github ，欢迎star！
    </a>
    
    
</div>
<br />



<blockquote>
    
            <p>本文GitHub <a href="https://github.com/OUYANGSIHAI/JavaInterview" target="_blank">https://github.com/OUYANGSIHAI/JavaInterview</a> 已收录，这是我花了6个月总结的<b>一线大厂Java面试</b>总结，本人已拿大厂offer，欢迎star</p>
    
    <p>原文链接：blog.ouyangsihai.cn &gt;&gt; <a href="/15000-zi-de-sql-yu-ju-da-quan.html" target="_blank">15000 字的 SQL 语句大全</a></p>
</blockquote>
                <div id="articleContent">
                    <p>点击上方 **好好学java **，选择 **星标 **公众号</p>
<pre class="line-numbers language-java"><code class="language-java">
重磅资讯、干货，第一时间送达


今日推荐：<span class="token number">2020</span>年<span class="token number">7</span>月程序员工资统计，平均<span class="token number">14357</span>元，又跌了，扎心个人原创100W<span class="token operator">+</span>访问量博客：点击前往，查看更多
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>整理：公众号 Java后端</p>
<p>链接：cnblogs.com&#x2F;liuqifeng&#x2F;p&#x2F;9148831.html</p>
<p><strong>一、基础</strong></p>
<p><strong>1、说明：创建数据库</strong></p>
<p>CREATE DATABASE database-name</p>
<p><strong>2****、说明：删除数据库</strong></p>
<p><strong>d</strong>rop database dbname</p>
<p><strong>3、说明：备份sql server</strong></p>
<p>— 创建 备份数据的 deviceUSE masterEXEC sp_addumpdevice ‘disk’, ‘testBack’, ‘c:\mssql7backup\MyNwind_1.dat’— 开始 备份BACKUP DATABASE pubs TO testBack </p>
<p><strong>4、说明：创建新表</strong></p>
<p>create table tabname(col1 type1 [not null] [primary key],col2 type2 [not null],..)</p>
<p>**根据已有的表创建新表： **</p>
<p><strong>A：</strong>create table tab_new like tab_old (使用旧表创建新表)<strong>B****：</strong>create table tab_new as select col1,col2… from tab_old definition only</p>
<p><strong>5、说明：删除新表</strong></p>
<p>drop table tabname </p>
<p><strong>6、说明：增加一个列</strong></p>
<p>Alter table tabname add column col type</p>
<p><strong>注</strong>：列增加后将不能删除。DB2中列加上后数据类型也不能改变，唯一能改变的是增加varchar类型的长度。</p>
<p><strong>7、说明：添加主键</strong>：Alter table tabname add primary key(col) 说明：删除主键：Alter table tabname drop primary key(col) </p>
<p><strong>8、说明：创建索引</strong>：create [unique] index idxname on tabname(col….) </p>
<p>删除索引：drop index idxname****</p>
<p>注：索引是不可更改的，想更改必须删除重新建。</p>
<p><strong>9****、说明：创建视图</strong>：create view viewname as select statement</p>
<p><strong>删除视图</strong>：drop view viewname</p>
<p><strong>10****、说明：几个简单的基本的sql语句</strong></p>
<p><strong>选择：</strong>select * from table1 where 范围<strong>插入：</strong>insert into table1(field1,field2) values(value1,value2)<strong>删除：</strong>delete from table1 where 范围<strong>更新</strong>：update table1 set field1&#x3D;value1 where 范围<strong>查找</strong>：select * from table1 where field1 like ’%value1%’ —like的语法很精妙，查资料!<strong>排序</strong>：select * from table1 order by field1,field2 [desc]<strong>总数</strong>：select count as totalcount from table1<strong>求和</strong>：select sum(field1) as sumvalue from table1<strong>平均</strong>：select avg(field1) as avgvalue from table1<strong>最大</strong>：select max(field1) as maxvalue from table1<strong>最小</strong>：select min(field1) as minvalue from table1</p>
<p><strong>11、说明：几个高级查询运算词</strong></p>
<p><strong>A：UNION 运算符</strong> </p>
<pre class="line-numbers language-java"><code class="language-java">
附上我历时三个月总结的 Java 面试 <span class="token operator">+</span> Java 后端技术学习指南，笔者这几年及春招的总结，github <span class="token number">1</span><span class="token punctuation">.</span>4k star，拿去不谢！

下载方式<span class="token number">1</span><span class="token punctuation">.</span> 首先扫描下方二维码<span class="token number">2</span><span class="token punctuation">.</span> 后台回复「Java面试」即可获取
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>UNION 运算符通过组合其他两个结果表（例如 TABLE1 和 TABLE2）并消去表中任何重复行而派生出一个结果表。当 ALL 随 UNION 一起使用时（即 UNION ALL），不消除重复行。两种情况下，派生表的每一行不是来自 TABLE1 就是来自 TABLE2。 </p>
<p>**B：EXCEPT 运算符 **</p>
<p><strong>EXCEPT</strong>运算符通过包括所有在 TABLE1 中但不在 TABLE2 中的行并消除所有重复行而派生出一个结果表。当 ALL 随 EXCEPT 一起使用时 (EXCEPT ALL)，不消除重复行。****</p>
<p><strong>C：INTERSECT 运算符</strong></p>
<p><strong>INTERSECT</strong>运算符通过只包括 TABLE1 和 TABLE2 中都有的行并消除所有重复行而派生出一个结果表。当 <strong>ALL</strong>随 INTERSECT 一起使用时 (INTERSECT ALL)，不消除重复行。 <strong>注：</strong>使用运算词的几个查询结果行必须是一致的。 </p>
<p>*<em>12</em>***、说明：使用外连接 **</p>
<p>A、<strong>left （outer） join</strong>： </p>
<p>左外连接（左连接）：结果集几包括连接表的匹配行，也包括左连接表的所有行。 </p>
<p>SQL: select a.a, a.b, a.c, b.c, b.d, b.f from a LEFT OUT JOIN b ON a.a &#x3D; b.c</p>
<p>**B：right （outer） join: **</p>
<p>右外连接(右连接)：结果集既包括连接表的匹配连接行，也包括右连接表的所有行。 </p>
<p><strong>C：full&#x2F;cross （outer） join</strong>： </p>
<p>全外连接：不仅包括符号连接表的匹配行，还包括两个连接表中的所有记录。</p>
<p><strong>12****、分组:Group by:</strong></p>
<p>一张表，一旦分组 完成后，查询后只能得到组相关的信息。</p>
<p><strong>组相关的信息：</strong>（统计信息） count,sum,max,min,avg ** **<strong>分组的标准)</strong></p>
<p><strong>在SQLServer中分组时：不能以text,ntext,image类型的字段作为分组依据</strong></p>
<p><strong>在selecte统计函数中的字段，不能和普通的字段放在一起；</strong></p>
<p> </p>
<p><strong>13、对数据库进行操作：</strong></p>
<p><strong>分离数据库</strong>：** sp_detach_db;**</p>
<p><strong>附加数据库</strong>：**sp_attach_db **后接表明，附加需要完整的路径名</p>
<p>**14.**<strong>如何修改数据库的名称:</strong></p>
<p>sp_renamedb ‘old_name’, ‘new_name’</p>
<p>对了，我把 MySQL 相关的文章整理成了 PDF，有需要的关注微信公众号 Java后端，回复 666 下载。</p>
<p> </p>
<p><strong>二、提升</strong></p>
<p> </p>
<p><strong>1、说明：复制表(只复制结构,源表名：a 新表名：b) (Access可用)</strong></p>
<p><strong>法一：</strong>select * into b from a where 1&lt;&gt;1（仅用于SQlServer）</p>
<p><strong>法二：</strong>select top 0 * into b from a****</p>
<p><strong>2、说明：拷贝表(拷贝数据,源表名：a 目标表名：b) (Access可用)</strong></p>
<p>insert into b(a, b, c) select d,e,f from b;</p>
<p> </p>
<p><strong>3、说明：跨数据库之间表的拷贝(具体数据使用绝对路径) (Access可用)</strong></p>
<p>insert into b(a, b, c) select d,e,f from b in ‘具体数据库’ where 条件例子：..from b in ‘“&amp;Server.MapPath(“.”)&amp;”\data.mdb” &amp;”‘ where..</p>
<p> </p>
<p><strong>4、说明：子查询(表名1：a 表名2：b)</strong></p>
<p>select a,b,c from a where a IN (select d from b ) 或者: select a,b,c from a where a IN (1,2,3)</p>
<p> </p>
<p><strong>5、说明：显示文章、提交人和最后回复时间</strong></p>
<p>select a.title,a.username,b.adddate from table a,(select max(adddate) adddate from table where table.title&#x3D;a.title) b</p>
<p> </p>
<p><strong>6、说明：外连接查询(表名1：a 表名2：b)</strong></p>
<p>select a.a, a.b, a.c, b.c, b.d, b.f from a LEFT OUT JOIN b ON a.a &#x3D; b.c</p>
<p> </p>
<p>**7、说明：在线视图查询(表名1：a )**select * from (SELECT a,b,c FROM a) T where t.a &gt; 1;</p>
<p> </p>
<p><strong>8、说明：between的用法,between限制查询数据范围时包括了边界值,not between不包括</strong></p>
<p>select * from table1 where time between time1 and time2select a,b,c, from table1 where a not between 数值1 and 数值2</p>
<p> </p>
<p><strong>9、说明：in 的使用方法</strong></p>
<p>select * from table1 where a [not] in (‘值1’,’值2’,’值4’,’值6’)</p>
<p> </p>
<p>**10、说明：两张关联表，删除主表中已经在副表中没有的信息 **</p>
<p>delete from table1 where not exists ( select * from table2 where table1.field1&#x3D;table2.field1 )</p>
<p> </p>
<p><strong>11、说明：四表联查问题：</strong></p>
<p>select * from a left inner join b on a.a&#x3D;b.b right inner join c on a.a&#x3D;c.c inner join d on a.a&#x3D;d.d where …..</p>
<p> </p>
<p>**12、说明：日程安排提前五分钟提醒 **</p>
<p>SQL: select * from 日程安排 where datediff(‘minute’,f开始时间,getdate())&gt;5</p>
<p> </p>
<p>*<em>13</em><em><strong>、说明：一条</strong></em>*sql **<strong>语句搞定数据库分页</strong></p>
<p>select top 10 b.* from (select top 20 主键字段,排序字段 from 表名 order by 排序字段 desc) a,表名 b where b.主键字段 &#x3D; a.主键字段 order by a.排序字段</p>
<p><strong>具体实现：</strong>关于数据库分页：</p>
<pre class="line-numbers language-java"><code class="language-java">
declare <span class="token annotation punctuation">@start</span> <span class="token keyword">int</span><span class="token punctuation">,</span><span class="token annotation punctuation">@end</span> <span class="token keyword">int</span>
  <span class="token annotation punctuation">@sql</span>  <span class="token function">nvarchar</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">)</span>
  set <span class="token annotation punctuation">@sql</span><span class="token operator">=</span>’select top’<span class="token operator">+</span><span class="token function">str</span><span class="token punctuation">(</span><span class="token annotation punctuation">@end</span><span class="token operator">-</span><span class="token annotation punctuation">@start</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>’<span class="token operator">+</span>from T where rid not <span class="token function">in</span><span class="token punctuation">(</span>select top’<span class="token operator">+</span><span class="token function">str</span><span class="token punctuation">(</span><span class="token annotation punctuation">@str</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>’Rid from T where Rid<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>’
  exec sp_executesql <span class="token annotation punctuation">@sql</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p> </p>
<p><strong>注意：</strong>在top后不能直接跟一个变量，所以在实际应用中只有这样的进行特殊的处理。Rid为一个标识列，如果top后还有具体的字段，这样做是非常有好处的。因为这样可以避免 top的字段如果是逻辑索引的，查询的结果后实际表中的不一致（逻辑索引中的数据有可能和数据表中的不一致，而查询时如果处在索引则首先查询索引）</p>
<p> </p>
<p><strong>14、说明：前10条记录</strong></p>
<p>select top 10 * form table1 where 范围</p>
<p> </p>
<p><strong>15、说明：</strong>选择在每一组b值相同的数据中对应的a最大的记录的所有信息(类似这样的用法可以用于论坛每月排行榜,每月热销产品分析,按科目成绩排名,等等.)****</p>
<p>select a,b,c from tablename ta where a&#x3D;(select max(a) from tablename tb where tb.b&#x3D;ta.b)</p>
<p> </p>
<p><strong>16、说明：</strong>包括所有在 TableA中但不在 TableB和TableC中的行并消除所有重复行而派生出一个结果表****</p>
<p>(select a from tableA ) except (select a from tableB) except (select a from tableC)</p>
<p> </p>
<p><strong>17、说明：随机取出10条数据</strong></p>
<p>select top 10 * from tablename order by newid()</p>
<p> </p>
<p><strong>18、说明：随机选择记录</strong></p>
<p>select newid()</p>
<p> </p>
<p><strong>19、说明：删除重复记录</strong></p>
<p>**1) **delete from tablename where id not in (select max(id) from tablename group by col1,col2,…)</p>
<p><strong>2) <strong>select distinct * into temp from tablename  delete from tablename  insert into tablename select * from temp</strong></strong></p>
<p><strong>评价：</strong>这种操作牵连大量的数据的移动，这种做法不适合大容量但数据操作3),例如：在一个外部表中导入数据，由于某些原因第一次只导入了一部分，但很难判断具体位置，这样只有在下一次全部导入，这样也就产生好多重复的字段，怎样删除重复字段</p>
<p> </p>
<pre class="line-numbers language-java"><code class="language-java">
alter table tablename
<span class="token operator">--</span>添加一个自增列
add  column_b <span class="token keyword">int</span> <span class="token function">identity</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
 delete from tablename where column_b not <span class="token function">in</span><span class="token punctuation">(</span>
select <span class="token function">max</span><span class="token punctuation">(</span>column_b<span class="token punctuation">)</span> from tablename group by column1<span class="token punctuation">,</span>column2<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
alter table tablename drop column column_b
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p> </p>
<p><strong>20、说明：列出数据库里所有的表名</strong></p>
<p>select name from sysobjects where type&#x3D;’U’ &#x2F;&#x2F; U代表用户</p>
<p> </p>
<p><strong>21、说明：列出表里的所有的列名</strong></p>
<p>select name from syscolumns where id&#x3D;object_id(‘TableName’)</p>
<p> </p>
<p><strong>22、说明：</strong>列示type、vender、pcs字段，以type字段排列，case可以方便地实现多重选择，类似select 中的case。****</p>
<p>select type,sum(case vender when ‘A’ then pcs else 0 end),sum(case vender when ‘C’ then pcs else 0 end),sum(case vender when ‘B’ then pcs else 0 end) FROM tablename group by type****</p>
<p><strong>显示结果：type vender pcs</strong>电脑 A 1电脑 A 1光盘 B 2光盘 A 2手机 B 3手机 C 3</p>
<p> </p>
<p><strong>23、说明：初始化表table1</strong></p>
<p> </p>
<p>TRUNCATE TABLE table1</p>
<p> </p>
<p><strong>24、说明：选择从10到15的记录</strong></p>
<p>select top 5 * from (select top 15 * from table order by id asc) table_别名 order by id desc</p>
<p> </p>
<p><strong>三、技巧</strong></p>
<p> </p>
<p><strong>1、1&#x3D;1，1&#x3D;2的使用，在SQL语句组合时用的较多</strong></p>
<p> </p>
<p><strong>“where 1&#x3D;1” 是表示选择全部    “where 1&#x3D;2”全部不选，</strong>如：</p>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token keyword">if</span> <span class="token annotation punctuation">@strWhere</span> <span class="token operator">!=</span><span class="token string">''</span> 
begin
set <span class="token annotation punctuation">@strSQL</span> <span class="token operator">=</span> <span class="token string">'select count(*) as Total from ['</span> <span class="token operator">+</span> <span class="token annotation punctuation">@tblName</span> <span class="token operator">+</span> <span class="token string">'] where '</span> <span class="token operator">+</span> <span class="token annotation punctuation">@strWhere</span>
end
<span class="token keyword">else</span> 
begin
set <span class="token annotation punctuation">@strSQL</span> <span class="token operator">=</span> <span class="token string">'select count(*) as Total from ['</span> <span class="token operator">+</span> <span class="token annotation punctuation">@tblName</span> <span class="token operator">+</span> <span class="token string">']'</span> 
end
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p> </p>
<p><strong>我们可以直接写成</strong></p>
<p> </p>
<p>set @strSQL &#x3D; ‘select count(*) as Total from [‘ + @tblName + ‘] where 1&#x3D;1 安定 ‘+ @strWhere </p>
<p><strong>2、收缩数据库</strong></p>
<p>****–重建索引DBCC REINDEXDBCC INDEXDEFRAG–收缩数据和日志DBCC SHRINKDBDBCC SHRINKFILE</p>
<p> </p>
<p><strong>3、压缩数据库</strong></p>
<p>****dbcc shrinkdatabase(dbname)</p>
<p> </p>
<p><strong>4、转移数据库给新用户以已存在用户权限</strong></p>
<p>****exec sp_change_users_login ‘update_one’,’newname’,’oldname’go</p>
<p> </p>
<p><strong>5、检查备份集</strong>RESTORE VERIFYONLY from disk&#x3D;’E:\dvbbs.bak’</p>
<p> </p>
<p><strong>6、修复数据库</strong></p>
<p>****ALTER DATABASE [dvbbs] SET SINGLE_USERGODBCC CHECKDB(‘dvbbs’,repair_allow_data_loss) WITH TABLOCKGOALTER DATABASE [dvbbs] SET MULTI_USERGO</p>
<p> </p>
<p><strong>7、日志清除</strong></p>
<p>****SET NOCOUNT ONDECLARE @LogicalFileName sysname, @MaxMinutes INT, @NewSize INT</p>
<p> </p>
<p>USE tablename – 要操作的数据库名SELECT  @LogicalFileName &#x3D; ‘tablename_log’, – 日志文件名@MaxMinutes &#x3D; 10, – Limit on time allowed to wrap log. @NewSize &#x3D; 1  – 你想设定的日志文件的大小(M)</p>
<p> </p>
<p>Setup &#x2F; initializeDECLARE @OriginalSize intSELECT @OriginalSize &#x3D; size  FROM sysfiles WHERE name &#x3D; @LogicalFileNameSELECT ‘Original Size of ‘ + db_name() + ‘ LOG is ‘ +  CONVERT(VARCHAR(30),@OriginalSize) + ‘ 8K pages or ‘ +  CONVERT(VARCHAR(30),(@OriginalSize*8&#x2F;1024)) + ‘MB’ FROM sysfiles WHERE name &#x3D; @LogicalFileNameCREATE TABLE DummyTrans (DummyColumn char (8000) not null)</p>
<p> </p>
<p>DECLARE @Counter    INT, @StartTime DATETIME, @TruncLog   VARCHAR(255)SELECT @StartTime &#x3D; GETDATE(), @TruncLog &#x3D; ‘BACKUP LOG ‘ + db_name() + ‘ WITH TRUNCATE_ONLY’</p>
<p> </p>
<p>DBCC SHRINKFILE (@LogicalFileName, @NewSize)EXEC (@TruncLog)– Wrap the log if necessary.WHILE @MaxMinutes &gt; DATEDIFF (mi, @StartTime, GETDATE()) – time has not expired AND @OriginalSize &#x3D; (SELECT size FROM sysfiles WHERE name &#x3D; @LogicalFileName)   AND (@OriginalSize * 8 &#x2F;1024) &gt; @NewSize   BEGIN – Outer loop.SELECT @Counter &#x3D; 0 WHILE   ((@Counter &lt; @OriginalSize &#x2F; 16) AND (@Counter &lt; 50000)) BEGIN – update INSERT DummyTrans VALUES (‘Fill Log’) DELETE DummyTrans SELECT @Counter &#x3D; @Counter + 1 END EXEC (@TruncLog)   ENDSELECT ‘Final Size of ‘ + db_name() + ‘ LOG is ‘ + CONVERT(VARCHAR(30),size) + ‘ 8K pages or ‘ +  CONVERT(VARCHAR(30),(size*8&#x2F;1024)) + ‘MB’ FROM sysfiles  WHERE name &#x3D; @LogicalFileNameDROP TABLE DummyTransSET NOCOUNT OFF</p>
<p> </p>
<p><strong>8、说明：更改某个表</strong></p>
<p>****exec sp_changeobjectowner ‘tablename’,’dbo’</p>
<p> </p>
<p><strong>9、存储更改全部表</strong></p>
<p> </p>
<p>CREATE PROCEDURE dbo.User_ChangeObjectOwnerBatch@OldOwner as NVARCHAR(128),@NewOwner as NVARCHAR(128)AS</p>
<p> </p>
<p>DECLARE @Name    as NVARCHAR(128)DECLARE @Owner   as NVARCHAR(128)DECLARE @OwnerName   as NVARCHAR(128)</p>
<p> </p>
<p>DECLARE curObject CURSOR FOR select ‘Name’    &#x3D; name,   ‘Owner’    &#x3D; user_name(uid)from sysobjectswhere user_name(uid)&#x3D;@OldOwnerorder by name</p>
<p> </p>
<p>OPEN   curObjectFETCH NEXT FROM curObject INTO @Name, @OwnerWHILE(@@FETCH_STATUS&#x3D;0)BEGIN     if @Owner&#x3D;@OldOwner begin   set @OwnerName &#x3D; @OldOwner + ‘.’ + rtrim(@Name)   exec sp_changeobjectowner @OwnerName, @NewOwnerend– select @name,@NewOwner,@OldOwner</p>
<p> </p>
<p>FETCH NEXT FROM curObject INTO @Name, @OwnerEND</p>
<p> </p>
<p>close curObjectdeallocate curObjectGO</p>
<p> </p>
<p><strong>10、SQL SERVER中直接循环写入数据</strong></p>
<p><strong><strong>declare @i intset @i&#x3D;1while @i&lt;30begin    insert into test (userid) values(@i)    set @i&#x3D;@i+1end</strong></strong></p>
<p><strong>案例****：</strong></p>
<p>****有如下表，要求就裱中所有沒有及格的成績，在每次增長0.1的基礎上，使他們剛好及格:</p>
<pre class="line-numbers language-java"><code class="language-java">
Name   scor
Zhangshan <span class="token number">80</span>
Lishi <span class="token number">59</span>
Wangwu <span class="token number">50</span>
Songquan <span class="token number">69</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>while((select <strong><strong>min</strong></strong>(score) from tb_table)&lt;<strong><strong>60</strong></strong>)</strong> </p>
<p><strong>begin</strong></p>
<p>**update tb_table set score ****&#x3D;*<em><strong>score</strong></em><strong>1.01</strong></p>
<p><strong>where score</strong><strong>&lt;60</strong></p>
<p><strong>if  (select <strong><strong>min</strong></strong>(score) from tb_table)****&gt;60</strong></p>
<p>**  break**</p>
<p>** else**</p>
<p>**    continue**</p>
<p><strong>end</strong></p>
<p><strong>数据开发-经典</strong></p>
<p> </p>
<p><strong>1.按姓氏笔画排序:</strong></p>
<p>Select * From TableName Order By CustomerName Collate Chinese_PRC_Stroke_ci_as &#x2F;&#x2F;从少到多</p>
<p> </p>
<p><strong>2.数据库加密:</strong></p>
<p>select encrypt(‘原始密码’)select pwdencrypt(‘原始密码’)select pwdcompare(‘原始密码’,’加密后密码’) &#x3D; 1–相同；否则不相同 encrypt(‘原始密码’)select pwdencrypt(‘原始密码’)select pwdcompare(‘原始密码’,’加密后密码’) &#x3D; 1–相同；否则不相同</p>
<p> </p>
<p><strong>3.取回表中字段:</strong></p>
<p>declare @list varchar(1000),@sql nvarchar(1000) select @list&#x3D;@list+’,’+b.name from sysobjects a,syscolumns b where a.id&#x3D;b.id and a.name&#x3D;’表A’set @sql&#x3D;’select ‘+right(@list,len(@list)-1)+’ from 表A’ exec (@sql)</p>
<p> </p>
<p><strong>4.查看硬盘分区:</strong></p>
<p><strong>EXEC master..xp_fixeddrives</strong></p>
<p> </p>
<p><strong>5.比较A,B表是否相等:</strong></p>
<p>if (select checksum_agg(binary_checksum(<em>)) from A)     &#x3D;    (select checksum_agg(binary_checksum(</em>)) from B)print ‘相等’elseprint ‘不相等’</p>
<p> </p>
<p><strong>6.杀掉所有的事件探察器进程:</strong></p>
<p>DECLARE hcforeach CURSOR GLOBAL FOR SELECT ‘kill ‘+RTRIM(spid) FROM master.dbo.sysprocessesWHERE program_name IN(‘SQL profiler’,N’SQL 事件探查器’)EXEC sp_msforeach_worker ‘?’</p>
<p> </p>
<p><strong>7.<strong><strong>记录搜索</strong></strong>:</strong></p>
<p><strong>开头到<strong><strong>N</strong></strong>条记录</strong>Select Top N * From 表</p>
<p>——————————-<strong>N<strong><strong>到</strong></strong>M**<strong>条记录</strong></strong>(<strong><strong>要有主索引</strong></strong>ID)<strong>Select Top M-N * From 表 Where ID in (Select Top M ID From 表) Order by ID   Desc———————————-<strong>N****到结尾记录</strong>Select Top N * From 表 Order by ID Desc</strong>案例<strong><strong>例如1：一张表有一万多条记录，表的第一个字段 RecID 是自增长字段， 写一个SQL语句， 找出表的第</strong></strong>31<strong><strong>到第</strong></strong>40**<strong>个记录。</strong></p>
<p> </p>
<p> select top 10 recid from A where recid not  in(select top 30 recid from A)</p>
<p> </p>
<p>分析：如果这样写会产生某些问题，如果recid在表中存在逻辑索引。</p>
<p> </p>
<p>select top 10 recid from A where……是从索引中查找，而后面的select top 30 recid from A则在数据表中查找，这样由于索引中的顺序有可能和数据表中的不一致，这样就导致查询到的不是本来的欲得到的数据。</p>
<p> </p>
<p><strong>解决方案</strong></p>
<p> </p>
<p>*<em>1，</em>***用order by **select top 30 recid from A order by ricid <strong>如果该字段不是自增长，就会出现问题</strong></p>
<p> </p>
<p><strong>2，****在那个子查询中也加条件：</strong>select top 30 recid from A where recid&gt;-1</p>
<p> </p>
<p>*<em>例2</em>***：查询表中的最后以条记录，并不知道这个表共有多少数据,**<strong>以及表结构。set @s &#x3D; ‘select top 1 * from T   where pid not in (select top ‘ + str(@count-1) + ‘ pid  from  T)’</strong></p>
<p> </p>
<p><strong>print @s      exec  sp_executesql  @s</strong></p>
<p> </p>
<p><strong>9：获取当前数据库中的所有用户表</strong></p>
<p>select Name from sysobjects where xtype&#x3D;’u’ and status&gt;&#x3D;0</p>
<p> </p>
<p><strong>10：获取某一个表的所有字段</strong></p>
<p>****select name from syscolumns where id&#x3D;object_id(‘表名’)</p>
<p> </p>
<p>select name from syscolumns where id in (select id from sysobjects where type &#x3D; ‘u’ and name &#x3D; ‘表名’)</p>
<p> </p>
<p>两种方式的效果相同</p>
<p> </p>
<p><strong>11：查看与某一个表相关的视图、存储过程、函数</strong></p>
<p>select a.* from sysobjects a, syscomments b where a.id &#x3D; b.id and b.text like ‘%表名%’</p>
<p> </p>
<p><strong>12：查看当前数据库中所有存储过程</strong></p>
<p>****select name as 存储过程名称 from sysobjects where xtype&#x3D;’P’</p>
<p> </p>
<p><strong>13：查询用户创建的所有数据库</strong></p>
<p>select * from master..sysdatabases D where sid not in(select sid from master..syslogins where name&#x3D;’sa’)或者select dbid, name AS DB_NAME from master..sysdatabases where sid &lt;&gt; 0x01</p>
<p> </p>
<p><strong>14：查询某一个表的字段和数据类型</strong></p>
<p>****select column_name,data_type from information_schema.columnswhere table_name &#x3D; ‘表名’</p>
<p> </p>
<p><strong>15****：不同服务器数据库之间的数据操作</strong></p>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>创建链接服务器

exec sp_addlinkedserver <span class="token string">'ITSV '</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">,</span> <span class="token string">'SQLOLEDB '</span><span class="token punctuation">,</span> <span class="token string">'远程服务器名或ip地址 '</span>

exec sp_addlinkedsrvlogin <span class="token string">'ITSV '</span><span class="token punctuation">,</span> <span class="token string">'false '</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span> <span class="token string">'用户名 '</span><span class="token punctuation">,</span> <span class="token string">'密码 '</span>

<span class="token operator">--</span>查询示例

select <span class="token operator">*</span> from ITSV<span class="token punctuation">.</span>数据库名<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>表名

<span class="token operator">--</span>导入示例

select <span class="token operator">*</span> into 表 from ITSV<span class="token punctuation">.</span>数据库名<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>表名

<span class="token operator">--</span>以后不再使用时删除链接服务器

exec sp_dropserver <span class="token string">'ITSV '</span><span class="token punctuation">,</span> <span class="token string">'droplogins '</span>

<span class="token operator">--</span>连接远程<span class="token operator">/</span>局域网数据<span class="token punctuation">(</span>openrowset<span class="token operator">/</span>openquery<span class="token operator">/</span>opendatasource<span class="token punctuation">)</span>

<span class="token operator">--</span><span class="token number">1</span>、openrowset

<span class="token operator">--</span>查询示例

select <span class="token operator">*</span> from <span class="token function">openrowset</span><span class="token punctuation">(</span> <span class="token string">'SQLOLEDB '</span><span class="token punctuation">,</span> <span class="token string">'sql服务器名 '</span><span class="token punctuation">;</span> <span class="token string">'用户名 '</span><span class="token punctuation">;</span> <span class="token string">'密码 '</span><span class="token punctuation">,</span>数据库名<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>表名<span class="token punctuation">)</span>

<span class="token operator">--</span>生成本地表

select <span class="token operator">*</span> into 表 from <span class="token function">openrowset</span><span class="token punctuation">(</span> <span class="token string">'SQLOLEDB '</span><span class="token punctuation">,</span> <span class="token string">'sql服务器名 '</span><span class="token punctuation">;</span> <span class="token string">'用户名 '</span><span class="token punctuation">;</span> <span class="token string">'密码 '</span><span class="token punctuation">,</span>数据库名<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>表名<span class="token punctuation">)</span>

<span class="token operator">--</span>把本地表导入远程表

insert <span class="token function">openrowset</span><span class="token punctuation">(</span> <span class="token string">'SQLOLEDB '</span><span class="token punctuation">,</span> <span class="token string">'sql服务器名 '</span><span class="token punctuation">;</span> <span class="token string">'用户名 '</span><span class="token punctuation">;</span> <span class="token string">'密码 '</span><span class="token punctuation">,</span>数据库名<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>表名<span class="token punctuation">)</span>

select <span class="token operator">*</span>from 本地表

<span class="token operator">--</span>更新本地表

update b

set b<span class="token punctuation">.</span>列A<span class="token operator">=</span>a<span class="token punctuation">.</span>列A

 from <span class="token function">openrowset</span><span class="token punctuation">(</span> <span class="token string">'SQLOLEDB '</span><span class="token punctuation">,</span> <span class="token string">'sql服务器名 '</span><span class="token punctuation">;</span> <span class="token string">'用户名 '</span><span class="token punctuation">;</span> <span class="token string">'密码 '</span><span class="token punctuation">,</span>数据库名<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>表名<span class="token punctuation">)</span>as a inner join 本地表 b

on a<span class="token punctuation">.</span>column1<span class="token operator">=</span>b<span class="token punctuation">.</span>column1

<span class="token operator">--</span>openquery用法需要创建一个连接

<span class="token operator">--</span>首先创建一个连接创建链接服务器

exec sp_addlinkedserver <span class="token string">'ITSV '</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">,</span> <span class="token string">'SQLOLEDB '</span><span class="token punctuation">,</span> <span class="token string">'远程服务器名或ip地址 '</span>

<span class="token operator">--</span>查询

select <span class="token operator">*</span> FROM <span class="token function">openquery</span><span class="token punctuation">(</span>ITSV<span class="token punctuation">,</span> <span class="token string">'SELECT * FROM 数据库.dbo.表名 '</span><span class="token punctuation">)</span>

<span class="token operator">--</span>把本地表导入远程表

insert <span class="token function">openquery</span><span class="token punctuation">(</span>ITSV<span class="token punctuation">,</span> <span class="token string">'SELECT * FROM 数据库.dbo.表名 '</span><span class="token punctuation">)</span>

select <span class="token operator">*</span> from 本地表

<span class="token operator">--</span>更新本地表

update b set b<span class="token punctuation">.</span>列B<span class="token operator">=</span>a<span class="token punctuation">.</span>列B FROM <span class="token function">openquery</span><span class="token punctuation">(</span>ITSV<span class="token punctuation">,</span> <span class="token string">'SELECT * FROM 数据库.dbo.表名 '</span><span class="token punctuation">)</span> as a inner join 本地表 b on a<span class="token punctuation">.</span>列A<span class="token operator">=</span>b<span class="token punctuation">.</span>列A

<span class="token operator">--</span><span class="token number">3</span>、opendatasource<span class="token operator">/</span>openrowset

SELECT   <span class="token operator">*</span> FROM   <span class="token function">opendatasource</span><span class="token punctuation">(</span> <span class="token string">'SQLOLEDB '</span><span class="token punctuation">,</span> <span class="token string">'Data Source=ip/ServerName;User ID=登陆名;Password=密码 '</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>test<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>roy_ta

<span class="token operator">--</span>把本地表导入远程表

insert <span class="token function">opendatasource</span><span class="token punctuation">(</span> <span class="token string">'SQLOLEDB '</span><span class="token punctuation">,</span> <span class="token string">'Data Source=ip/ServerName;User ID=登陆名;Password=密码 '</span><span class="token punctuation">)</span><span class="token punctuation">.</span>数据库<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>表名

select <span class="token operator">*</span> from 本地表
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p> </p>
<p><strong>SQL Server基本函数</strong></p>
<p> </p>
<p>SQL Server基本函数</p>
<p> </p>
<p>**1.字符串函数 **长度与分析用</p>
<p><strong>1,datalength</strong>(Char_expr) 返回字符串包含字符数,但不包含后面的空格</p>
<p><strong>2,substring</strong>(expression,start,length) 取子串，字符串的下标是从“1”，start为起始位置，length为字符串长度，实际应用中以len(expression)取得其长度</p>
<p><strong>3,right</strong>(char_expr,int_expr) 返回字符串右边第int_expr个字符，还用<strong>left</strong>于之相反****</p>
<p>**4,isnull( <strong><strong>check</strong></strong>_****expression ****,** **replacement_value ****)**如果check_expression為空，則返回replacement_value的值，不為空，就返回check_expression字符操作类</p>
<p><strong>5,Sp_addtype</strong>自定義數據類型例如：<code class="java">
EXEC sp_addtype birthday, datetime, &#39;NULL&#39;</code></p>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token number">6</span><span class="token punctuation">,</span>set nocount <span class="token punctuation">{</span>on<span class="token operator">|</span>off<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
使返回的结果中不包含有关受 Transact<span class="token operator">-</span>SQL 语句影响的行数的信息。如果存储过程中包含的一些语句并不返回许多实际的数据，则该设置由于大量减少了网络流量，因此可显著提高性能。SET NOCOUNT 设置是在执行或运行时设置，而不是在分析时设置。
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
SET NOCOUNT 为 ON 时，不返回计数（表示受 Transact<span class="token operator">-</span>SQL 语句影响的行数）。
SET NOCOUNT 为 OFF 时，返回计数
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
常识
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
在SQL查询中：from后最多可以跟多少张表或视图：<span class="token number">256</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
在SQL语句中出现 Order by<span class="token punctuation">,</span>查询时，先排序，后取
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
在SQL中，一个字段的最大容量是<span class="token number">8000</span>，而对于<span class="token function">nvarchar</span><span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>由于nvarchar是Unicode码。 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
       
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
SQLServer2000同步复制技术实现步骤
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
一、 预备工作
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token number">1</span><span class="token punctuation">.</span>发布服务器<span class="token punctuation">,</span>订阅服务器都创建一个同名的windows用户<span class="token punctuation">,</span>并设置相同的密码<span class="token punctuation">,</span>做为发布快照文件夹的有效访问用户
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>管理工具
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>计算机管理
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>用户和组
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>右键用户
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>新建用户
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>建立一个隶属于administrator组的登陆windows的用户（SynUser）
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token number">2</span><span class="token punctuation">.</span>在发布服务器上<span class="token punctuation">,</span>新建一个共享目录<span class="token punctuation">,</span>做为发布的快照文件的存放目录<span class="token punctuation">,</span>操作<span class="token operator">:</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
我的电脑<span class="token operator">--</span>D<span class="token operator">:</span>\ 新建一个目录<span class="token punctuation">,</span>名为<span class="token operator">:</span> PUB
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>右键这个新建的目录
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>属性<span class="token operator">--</span>共享
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>选择<span class="token string">"共享该文件夹"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>通过<span class="token string">"权限"</span>按纽来设置具体的用户权限<span class="token punctuation">,</span>保证第一步中创建的用户<span class="token punctuation">(</span>SynUser<span class="token punctuation">)</span> 具有对该文件夹的所有权限
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>确定
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token number">3</span><span class="token punctuation">.</span>设置SQL代理<span class="token punctuation">(</span>SQLSERVERAGENT<span class="token punctuation">)</span>服务的启动用户<span class="token punctuation">(</span>发布<span class="token operator">/</span>订阅服务器均做此设置<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
开始<span class="token operator">--</span>程序<span class="token operator">--</span>管理工具<span class="token operator">--</span>服务
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>右键SQLSERVERAGENT
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>属性<span class="token operator">--</span>登陆<span class="token operator">--</span>选择<span class="token string">"此账户"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>输入或者选择第一步中创建的windows登录用户名（SynUser）
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span><span class="token string">"密码"</span>中输入该用户的密码
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token number">4</span><span class="token punctuation">.</span>设置SQL Server身份验证模式<span class="token punctuation">,</span>解决连接时的权限问题<span class="token punctuation">(</span>发布<span class="token operator">/</span>订阅服务器均做此设置<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
企业管理器
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>右键SQL实例<span class="token operator">--</span>属性
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>安全性<span class="token operator">--</span>身份验证
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>选择<span class="token string">"SQL Server 和 Windows"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>确定
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token number">5</span><span class="token punctuation">.</span>在发布服务器和订阅服务器上互相注册
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
企业管理器
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>右键SQL Server组
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>新建SQL Server注册<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>下一步<span class="token operator">--</span>可用的服务器中<span class="token punctuation">,</span>输入你要注册的远程服务器名 <span class="token operator">--</span>添加
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>下一步<span class="token operator">--</span>连接使用<span class="token punctuation">,</span>选择第二个<span class="token string">"SQL Server身份验证"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>下一步<span class="token operator">--</span>输入用户名和密码（SynUser）
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>下一步<span class="token operator">--</span>选择SQL Server组<span class="token punctuation">,</span>也可以创建一个新组
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>下一步<span class="token operator">--</span>完成
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token number">6</span><span class="token punctuation">.</span>对于只能用IP<span class="token punctuation">,</span>不能用计算机名的<span class="token punctuation">,</span>为其注册服务器别名（此步在实施中没用到）
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
 <span class="token punctuation">(</span>在连接端配置<span class="token punctuation">,</span>比如<span class="token punctuation">,</span>在订阅服务器上配置的话<span class="token punctuation">,</span>服务器名称中输入的是发布服务器的IP<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
开始<span class="token operator">--</span>程序<span class="token operator">--</span>Microsoft SQL Server<span class="token operator">--</span>客户端网络实用工具
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>别名<span class="token operator">--</span>添加
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>网络库选择<span class="token string">"tcp/ip"</span><span class="token operator">--</span>服务器别名输入SQL服务器名
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>连接参数<span class="token operator">--</span>服务器名称中输入SQL服务器ip地址
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>如果你修改了SQL的端口<span class="token punctuation">,</span>取消选择<span class="token string">"动态决定端口"</span><span class="token punctuation">,</span>并输入对应的端口号
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
二、 正式配置
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token number">1</span>、配置发布服务器
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
打开企业管理器，在发布服务器（B、C、D）上执行以下步骤<span class="token operator">:</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> 从<span class="token punctuation">[</span>工具<span class="token punctuation">]</span>下拉菜单的<span class="token punctuation">[</span>复制<span class="token punctuation">]</span>子菜单中选择<span class="token punctuation">[</span>配置发布、订阅服务器和分发<span class="token punctuation">]</span>出现配置发布和分发向导
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>下一步<span class="token punctuation">]</span> 选择分发服务器 可以选择把发布服务器自己作为分发服务器或者其他sql的服务器（选择自己）
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>下一步<span class="token punctuation">]</span> 设置快照文件夹
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
采用默认\\servername\Pub
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>下一步<span class="token punctuation">]</span> 自定义配置
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
可以选择<span class="token operator">:</span>是<span class="token punctuation">,</span>让我设置分发数据库属性启用发布服务器或设置发布设置
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
否<span class="token punctuation">,</span>使用下列默认设置（推荐）
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>下一步<span class="token punctuation">]</span> 设置分发数据库名称和位置 采用默认值
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>下一步<span class="token punctuation">]</span> 启用发布服务器 选择作为发布的服务器
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>下一步<span class="token punctuation">]</span> 选择需要发布的数据库和发布类型
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>下一步<span class="token punctuation">]</span> 选择注册订阅服务器
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>下一步<span class="token punctuation">]</span> 完成配置
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token number">2</span>、创建出版物
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
发布服务器B、C、D上
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>从<span class="token punctuation">[</span>工具<span class="token punctuation">]</span>菜单的<span class="token punctuation">[</span>复制<span class="token punctuation">]</span>子菜单中选择<span class="token punctuation">[</span>创建和管理发布<span class="token punctuation">]</span>命令
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>选择要创建出版物的数据库，然后单击<span class="token punctuation">[</span>创建发布<span class="token punctuation">]</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>在<span class="token punctuation">[</span>创建发布向导<span class="token punctuation">]</span>的提示对话框中单击<span class="token punctuation">[</span>下一步<span class="token punctuation">]</span>系统就会弹出一个对话框。对话框上的内容是复制的三个类型。我们现在选第一个也就是默认的快照发布<span class="token punctuation">(</span>其他两个大家可以去看看帮助<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>单击<span class="token punctuation">[</span>下一步<span class="token punctuation">]</span>系统要求指定可以订阅该发布的数据库服务器类型<span class="token punctuation">,</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
SQLSERVER允许在不同的数据库如 orACLE或ACCESS之间进行数据复制。
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
但是在这里我们选择运行<span class="token string">"SQL SERVER 2000"</span>的数据库服务器
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>单击<span class="token punctuation">[</span>下一步<span class="token punctuation">]</span>系统就弹出一个定义文章的对话框也就是选择要出版的表
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
注意<span class="token operator">:</span> 如果前面选择了事务发布 则再这一步中只能选择带有主键的表
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>选择发布名称和描述
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>自定义发布属性 向导提供的选择<span class="token operator">:</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
是 我将自定义数据筛选<span class="token punctuation">,</span>启用匿名订阅和或其他自定义属性
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
否 根据指定方式创建发布 （建议采用自定义的方式）
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">[</span>下一步<span class="token punctuation">]</span> 选择筛选发布的方式
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">[</span>下一步<span class="token punctuation">]</span> 可以选择是否允许匿名订阅
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token number">1</span><span class="token punctuation">)</span>如果选择署名订阅<span class="token punctuation">,</span>则需要在发布服务器上添加订阅服务器
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
方法<span class="token operator">:</span> <span class="token punctuation">[</span>工具<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token punctuation">[</span>复制<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token punctuation">[</span>配置发布、订阅服务器和分发的属性<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token punctuation">[</span>订阅服务器<span class="token punctuation">]</span> 中添加
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
否则在订阅服务器上请求订阅时会出现的提示<span class="token operator">:</span>改发布不允许匿名订阅
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
如果仍然需要匿名订阅则用以下解决办法
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">[</span>企业管理器<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token punctuation">[</span>复制<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token punctuation">[</span>发布内容<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token punctuation">[</span>属性<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token punctuation">[</span>订阅选项<span class="token punctuation">]</span> 选择允许匿名请求订阅
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token number">2</span><span class="token punctuation">)</span>如果选择匿名订阅<span class="token punctuation">,</span>则配置订阅服务器时不会出现以上提示
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">[</span>下一步<span class="token punctuation">]</span> 设置快照 代理程序调度
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">[</span>下一步<span class="token punctuation">]</span> 完成配置
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
当完成出版物的创建后创建出版物的数据库也就变成了一个共享数据库
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
有数据
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
srv1<span class="token punctuation">.</span>库名<span class="token punctuation">.</span><span class="token punctuation">.</span>author有字段<span class="token operator">:</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>phone<span class="token punctuation">,</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
srv2<span class="token punctuation">.</span>库名<span class="token punctuation">.</span><span class="token punctuation">.</span>author有字段<span class="token operator">:</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>telphone<span class="token punctuation">,</span>adress
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
要求：
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
srv1<span class="token punctuation">.</span>库名<span class="token punctuation">.</span><span class="token punctuation">.</span>author增加记录则srv1<span class="token punctuation">.</span>库名<span class="token punctuation">.</span><span class="token punctuation">.</span>author记录增加
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
srv1<span class="token punctuation">.</span>库名<span class="token punctuation">.</span><span class="token punctuation">.</span>author的phone字段更新，则srv1<span class="token punctuation">.</span>库名<span class="token punctuation">.</span><span class="token punctuation">.</span>author对应字段telphone更新
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span><span class="token operator">*</span><span class="token operator">/</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>大致的处理步骤
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span><span class="token number">1</span><span class="token punctuation">.</span>在 srv1 上创建连接服务器<span class="token punctuation">,</span>以便在 srv1 中操作 srv2<span class="token punctuation">,</span>实现同步
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
exec sp_addlinkedserver <span class="token string">'srv2'</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token string">'SQLOLEDB'</span><span class="token punctuation">,</span><span class="token string">'srv2的sql实例名或ip'</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
exec sp_addlinkedsrvlogin <span class="token string">'srv2'</span><span class="token punctuation">,</span><span class="token string">'false'</span><span class="token punctuation">,</span>null<span class="token punctuation">,</span><span class="token string">'用户名'</span><span class="token punctuation">,</span><span class="token string">'密码'</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
go
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span><span class="token number">2</span><span class="token punctuation">.</span>在 srv1 和 srv2 这两台电脑中<span class="token punctuation">,</span>启动 <span class="token function">msdtc</span><span class="token punctuation">(</span>分布式事务处理服务<span class="token punctuation">)</span><span class="token punctuation">,</span>并且设置为自动启动
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
。我的电脑<span class="token operator">--</span>控制面板<span class="token operator">--</span>管理工具<span class="token operator">--</span>服务<span class="token operator">--</span>右键 Distributed Transaction Coordinator<span class="token operator">--</span>属性<span class="token operator">--</span>启动<span class="token operator">--</span>并将启动类型设置为自动启动
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
go
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
  
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>然后创建一个作业定时调用上面的同步处理存储过程就行了
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
企业管理器
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>管理
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>SQL Server代理
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>右键作业
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>新建作业
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span><span class="token string">"常规"</span>项中输入作业名称
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span><span class="token string">"步骤"</span>项
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>新建
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span><span class="token string">"步骤名"</span>中输入步骤名
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span><span class="token string">"类型"</span>中选择<span class="token string">"Transact-SQL 脚本(TSQL)"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span><span class="token string">"数据库"</span>选择执行命令的数据库
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span><span class="token string">"命令"</span>中输入要执行的语句<span class="token operator">:</span> exec p_process
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>确定
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span><span class="token string">"调度"</span>项
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>新建调度
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span><span class="token string">"名称"</span>中输入调度名称
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span><span class="token string">"调度类型"</span>中选择你的作业执行安排
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>如果选择<span class="token string">"反复出现"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>点<span class="token string">"更改"</span>来设置你的时间安排
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
然后将SQL Agent服务启动<span class="token punctuation">,</span>并设置为自动启动<span class="token punctuation">,</span>否则你的作业不会被执行
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
设置方法<span class="token operator">:</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
我的电脑<span class="token operator">--</span>控制面板<span class="token operator">--</span>管理工具<span class="token operator">--</span>服务<span class="token operator">--</span>右键 SQLSERVERAGENT<span class="token operator">--</span>属性<span class="token operator">--</span>启动类型<span class="token operator">--</span>选择<span class="token string">"自动启动"</span><span class="token operator">--</span>确定<span class="token punctuation">.</span> 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span><span class="token number">3</span><span class="token punctuation">.</span>实现同步处理的方法<span class="token number">2</span><span class="token punctuation">,</span>定时同步
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
<span class="token operator">--</span>在srv1中创建如下的同步处理存储过程
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">
create proc p_process as

<span class="token operator">--</span>更新修改过的数据

update b set name<span class="token operator">=</span>i<span class="token punctuation">.</span>name<span class="token punctuation">,</span>telphone<span class="token operator">=</span>i<span class="token punctuation">.</span>telphone

from srv2<span class="token punctuation">.</span>库名<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>author b<span class="token punctuation">,</span>author i

where b<span class="token punctuation">.</span>id<span class="token operator">=</span>i<span class="token punctuation">.</span>id <span class="token function">and</span>

<span class="token punctuation">(</span>b<span class="token punctuation">.</span>name <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> i<span class="token punctuation">.</span>name or b<span class="token punctuation">.</span>telphone <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> i<span class="token punctuation">.</span>telphone<span class="token punctuation">)</span>

<span class="token operator">--</span>插入新增的数据

insert srv2<span class="token punctuation">.</span>库名<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span><span class="token function">author</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>telphone<span class="token punctuation">)</span>

select id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>telphone from author i

where not <span class="token function">exists</span><span class="token punctuation">(</span>

select <span class="token operator">*</span> from srv2<span class="token punctuation">.</span>库名<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>author where id<span class="token operator">=</span>i<span class="token punctuation">.</span>id<span class="token punctuation">)</span>


<span class="token operator">--</span>删除已经删除的数据<span class="token punctuation">(</span>如果需要的话<span class="token punctuation">)</span>

delete b

from srv2<span class="token punctuation">.</span>库名<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>author b

where not <span class="token function">exists</span><span class="token punctuation">(</span>select <span class="token operator">*</span> from author where id<span class="token operator">=</span>b<span class="token punctuation">.</span>id<span class="token punctuation">)</span>

go
最后，再附上我历时三个月总结的 Java 面试 <span class="token operator">+</span> Java 后端技术学习指南，笔者这几年及春招的总结，github <span class="token number">1</span><span class="token punctuation">.</span>4k star，拿去不谢！
下载方式<span class="token number">1</span><span class="token punctuation">.</span> 首先扫描下方二维码<span class="token number">2</span><span class="token punctuation">.</span> 后台回复「Java面试」即可获取

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>原文地址：<a target="_blank" rel="noopener" href="https://sihai.blog.csdn.net/article/details/109465829">https://sihai.blog.csdn.net/article/details/109465829</a></p>

                </div>
                <!-- 欧阳思海，modify，2020.05.01-->
<!-- 文章详情详情页面的头部广告位置信息 -->
<div id="post-head-panel">
    
    <a href="https://github.com/OUYANGSIHAI/JavaInterview" style="font-size: 18px;" target="_blank">
        <img src="/icons/hot.gif">
        本人花费半年的时间总结的《Java面试指南》已拿腾讯等大厂offer，已开源在github ，欢迎star！
    </a>
    
    
</div>
<br />



<blockquote>
    
            <p>本文GitHub <a href="https://github.com/OUYANGSIHAI/JavaInterview" target="_blank">https://github.com/OUYANGSIHAI/JavaInterview</a> 已收录，这是我花了6个月总结的<b>一线大厂Java面试</b>总结，本人已拿大厂offer，欢迎star</p>
    
    <p>原文链接：blog.ouyangsihai.cn &gt;&gt; <a href="/15000-zi-de-sql-yu-ju-da-quan.html" target="_blank">15000 字的 SQL 语句大全</a></p>
</blockquote>
                <hr />

                
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.88rem;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-large waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fa fa-close"></i></a>
            <h4 class="reward-title">多少都是对我的认可</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="http://image.ouyangsihai.cn/FpbhsOuf3Ar9vY34B97Y2qQ7LVGe" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="http://image.ouyangsihai.cn/FgYlMzms68PH73PWpZBwPfbLTAws" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
                

                <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

                

                
                <div class="reprint1">
                    <p>
                        <span class="reprint1-tip">
                            <i class="fa fa-exclamation-circle"></i>&nbsp;&nbsp;转载请注明:
                        </span>
                        <a href="https://blog.ouyangsihai.cn" class="b-link-green">好好学java</a>
                        <i class="fa fa-angle-right fa-lg fa-fw text-color"></i>
                        <a href="/15000-zi-de-sql-yu-ju-da-quan.html" class="b-link-green">15000 字的 SQL 语句大全</a>
                    </p>
                </div>

            </div>
        </div>

        

        

        

        

        
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }
    /* valine 评论框增加背景图片 */
    #vcomments textarea {
        box-sizing: border-box;
        background: url("") 100% 100% no-repeat;
    }

    #vcomments input[type=text],
    #vcomments input[type=email],
    #vcomments input[type=url],
    #vcomments textarea {
        box-sizing: border-box;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #42b983;
        font-weight: 500;
        text-decoration: underline;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    /* 修复评论第一行位置错位 */
    .v .vlist .vcard {
    padding-top: 2.5em !important ;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div id="vcomments" class="card-content"></div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<!-- <link rel="stylesheet" type="text/css" href="/libs//libs/jQuery-emoji/dist/css/jquery.emoji.css">
<script src="/libs//libs/jQuery-emoji/dist/js/jquery.emoji.min.js"></script>
<script src="/libs//libs/jQuery-emoji/dist/js/emoji.list.js"></script> -->
<script>
    new Valine({
        el: '#vcomments',
        appId: 'MxSNOS83TYWU3Opsy2GTW1ih-gzGzoHsz',
        appKey: '4XevOgmAxHEwVDnIKgvEUihB',
        notify: 'true' === 'true',
        verify: 'true' === 'true',
        visitor: 'true' === 'true',
        avatar: 'mm',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: '请畅所欲言吧，别害羞~',

    });

//     function parse_emoji() {
//     jQuery(".vcontent").emojiParse({
//       basePath: '/libs/jQuery-emoji/images/emoji',
//       icons: emojiLists   // 注：详见 js/emoji.list.js
//     });
//   }
  
//   setTimeout(function() {
//     // jQuery emoji 解析
//     parse_emoji();
//     // jquery emoji 初始化
//     jQuery(".veditor").emoji({
//       showTab: true,
//       animation: 'slide',
//       basePath: '/libs/jQuery-emoji/images/emoji',
//       icons: emojiLists  // 注：详见 js/emoji.list.js
//     });
//     jQuery(".vmore").on("click", function() {
//       setTimeout(function() {
//         parse_emoji();
//       }, 500);
//     });
//   }, 800)

</script>
        

        

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/ji-yi-ci-xian-shang-shang-cheng-xi-tong-gao-bing-fa-de-you-hua.html">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/6.jpg" class="responsive-img" alt="记一次线上商城系统高并发的优化">
                        
                        <span class="card-title">记一次线上商城系统高并发的优化</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            点击上方 **好好学java **，选择 **星标 **公众号

重磅资讯、干货，第一时间送达


今日推荐：2020年7月程序员工资统计，平均14357元，又跌了，扎心个人原创100W+访问量博客：点击前往，查看更多

来源：https:
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock fa-fw icon-date"></i>2021-04-04
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%A5%BD%E5%A5%BD%E5%AD%A6java/" class="post-category" target="_blank">
                                    好好学java
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/zai-jian-jdk....html">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/10.jpg" class="responsive-img" alt="再见 JDK ...">
                        
                        <span class="card-title">再见 JDK ...</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            点击上方 **好好学java **，选择 **星标 **公众号

重磅资讯、干货，第一时间送达


今日推荐：2020年7月程序员工资统计，平均14357元，又跌了，扎心个人原创100W+访问量博客：点击前往，查看更多

在 2019 年，
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock fa-fw icon-date"></i>2021-04-04
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%A5%BD%E5%A5%BD%E5%AD%A6java/" class="post-category" target="_blank">
                                    好好学java
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>
    </div>
</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('500')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 好好学java<br />'
            + '作者: 好好学java<br />'
            + '链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () { bodyElement.removeChild(newdiv); }, 200);
    });
</script>



<!--
<script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script>
<script>
    const btw = new BTWPlugin();
    btw.init({
        id: 'container',
        blogId: '15305-1590684104111-518',
        name: '程序员的技术圈子',
        qrcode: 'http://image.ouyangsihai.cn/FtAUOeE5--1JTdcuuZFIhMuEUuJO',
        keyword: 'vip',
    });
</script>
-->

    </div>
    <div id="toc-aside" style="width: 310px;" class="expanded col l3 hide-on-med-and-down">
        <!-- 自定义右侧card：欧阳思海 -->
        <!-- <div id="my-card" style="background: ">
            
        </div> -->
        <!-- <div class="toc-widget">
            <div class="toc-title" style="display: none;"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;</div>
            <div id="toc-content"></div>
        </div> -->








        <aside class="col-lg-3" style="width: 300px;">

            <link rel="stylesheet" type="text/css" href="/css/my-aside.css">

            <!-- 关注公众号信息：欧阳思海 -->
            <div class="widget-wrap">
                <div class="widget bg-danger" style="color:whitesmoke; background-color: #419488">
                    <div class="card-front animated col s12 m12 l8 offset-l2 fadeInUp">
                        <div class="row">
                            <div class="col-md-5" style="text-align: center;">
                                <img class="adv" style="width: 95px; height: 95px;"
                                    src="http://image.ouyangsihai.cn/FtAUOeE5--1JTdcuuZFIhMuEUuJO">
                            </div>
                            <div class="col-md-7" style="text-align: center;">
                                <h2 style="font-size: 18px; 
                                    margin: 0; 
                                    padding: 0;
                                    border: 0; 
                                    outline: 0;
                                    font-weight: inherit;
                                    font-style: inherit;
                                    font-family: inherit;
                                    vertical-align: baseline;">关注公众号</h2>
                                 
                                <small style="font-size: 15px;">
                                    →「技术干货」每日推送 <br>
                                    →「回复资料」领取资料 <br>
                                    →「微信加群」每周福利 <br>
                                </small>
                            </div>
                        </div>
                    </div>

                    <!-- <div style="font-size: 0.8em;">
                        <a href="/assets/erweima.jpg" target="_blank"
                            style="color:orange;font-size: 14px;">点击添加我的微信，加入技术讨论群</a>
                        除公众号以外，我还会在以下平台发布内容：
                    </div>
                    -->

                    <div class="profile-block social-links col-md-7" style="text-align: center;">
                        <table style="align-items: center; 
                                        padding-left: 25px;">
                            <tbody>
                                <tr>
                                    <td style="margin: 0;
                                                padding: 0;
                                                border: 0;
                                                outline: 0;
                                                font-weight: inherit;
                                                font-style: inherit;
                                                font-family: inherit;
                                                vertical-align: baseline;"><a
                                            style="color: whitesmoke;font-size: 25px;"
                                            href="https://github.com/OUYANGSIHAI/JavaInterview" target="_blank" title="GitHub"
                                            class="tooltip">
                                            <img style="width: 22px;height: 22px;" src="/icons/github.svg"></a>
                                    </td>

                                    <td style="margin: 0;
                                                padding: 0;
                                                border: 0;
                                                outline: 0;
                                                font-weight: inherit;
                                                font-style: inherit;
                                                font-family: inherit;
                                                vertical-align: baseline;"><a
                                            style="color: whitesmoke;font-size: 25px;"
                                            href="https://www.zhihu.com/people/hai-hai-ren-sheng-50/activities"
                                            target="_blank" title="知乎" class="tooltip">
                                            <img style="width: 22px;" src="/icons/zhihu.svg"></a>
                                    </td>
                                    <td style="margin: 0;
                                                padding: 0;
                                                border: 0;
                                                outline: 0;
                                                font-weight: inherit;
                                                font-style: inherit;
                                                font-family: inherit;
                                                vertical-align: baseline;"><a
                                            style="color: whitesmoke;font-size: 25px;"
                                            href="https://blog.csdn.net/sihai12345" target="_blank" title="CSDN"
                                            class="tooltip">
                                            <img style="width: 18px;" src="/icons/CSDN.svg"></a>
                                    </td>
                                    <td style="margin: 0;
                                                padding: 0;
                                                border: 0;
                                                outline: 0;
                                                font-weight: inherit;
                                                font-style: inherit;
                                                font-family: inherit;
                                                vertical-align: baseline;"><a
                                            style="color: whitesmoke;font-size: 25px;"
                                            href="https://www.jianshu.com/u/12b0bd4c857c" target="_blank" title="简书"
                                            class="tooltip">
                                            <img style="width: 22px;" src="/icons/JianShu.svg"></a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>


            

            <!-- custom rightside_link：热门文章推荐：欧阳思海 -->
            
            <div class="widget-wrap widget-panel">
                <p style="text-align: left;padding-bottom: 10px;line-height: 30px; font-size: 14px;">
                    
                    <a href="https://github.com/OUYANGSIHAI/JavaInterview" target="_blank">

                        <img src="/icons/hot.gif">

                        本人花费半年的时间总结的《 Java 面试指南》已拿腾讯等大厂 offer，已开源在 github ，欢迎 star！
                    </a><br>
                    
                    <a href="https://mp.weixin.qq.com/s/I0jimqziHqRNaIy0kXRCnw" target="_blank">

                        <img src="/icons/hot.gif">

                        2020 Java 1000G 最新学习资源，Java基础、Java项目实战、Java分布式等等！
                    </a><br>
                    
                    <a href="http://image.ouyangsihai.cn/FpB-dO6g-XU44mMrVlj7EL1y7Rs7" target="_blank">

                        <img src="/icons/hot.gif">

                        高级 Java 开发微信群，一起搞事情吧！
                    </a><br>
                    
                </p>
            </div>
            

            

            <!-- custom rightside_banner：右侧广告或者其他的栏目设置：欧阳思海 -->
            
            <div class="widget-wrap">
                <a href="https://github.com/OUYANGSIHAI/JavaInterview" target="_blank">
                    <img src="http://image.ouyangsihai.cn/FhhoEYMaNr6m0v8KhG8vSPgoREBV" style="width: 100%;">
                </a>
            </div>
            
            

            

            <!-- 右侧专栏分类：欧阳思海 -->
            
            <div class="widget-wrap widget-panel">
                <ul class="media-list">
                    
                    <li class="media">
                        <a href="/categories/MySQL的艺术世界/" target="_blank">
                            <div class="media-left">
                                <img class="media-object" src="http://image.ouyangsihai.cn/Fn3kQurieQ_0QUeqPmx5RW5i6R9n" style="width: 55px;">
                            </div>
                            <div class="media-body">
                                <h4 class="media-heading" style="margin-bottom: 10px; font-size: 100%;
                                                                    margin: 0;
                                                                    padding: 0;
                                                                    border: 0;
                                                                    outline: 0;
                                                                    font-weight: inherit;
                                                                    font-style: inherit;
                                                                    font-family: inherit;
                                                                    vertical-align: baseline;">
                                    MySQL 的系列文章，解决全部面试问题！
                                </h4>
                                <p>
                                    总共10篇文章，面试热门的锁、事务，通通解决了！
                                </p>
                            </div>
                        </a>
                    </li>
                    <hr>
                    
                    <li class="media">
                        <a href="/categories/深入理解Java虚拟机/" target="_blank">
                            <div class="media-left">
                                <img class="media-object" src="http://image.ouyangsihai.cn/FpcS21VWJOHSgGzKcpW3_xVTSEeN" style="width: 55px;">
                            </div>
                            <div class="media-body">
                                <h4 class="media-heading" style="margin-bottom: 10px; font-size: 100%;
                                                                    margin: 0;
                                                                    padding: 0;
                                                                    border: 0;
                                                                    outline: 0;
                                                                    font-weight: inherit;
                                                                    font-style: inherit;
                                                                    font-family: inherit;
                                                                    vertical-align: baseline;">
                                    深入理解 Java 虚拟机，面试必问
                                </h4>
                                <p>
                                    总共10篇文章，包括内存模型、GC算法、GC收集器等。
                                </p>
                            </div>
                        </a>
                    </li>
                    <hr>
                    
                </ul>
            </div>
            

            <!-- 右侧分类 -->
            <div class="widget-wrap widget-panel">
                <h3 class="widget-title">文章分类</h3>
                <div class="widget">
                    <ul class="category-list">
                        
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/趣聊数据结构与算法/">>
                                趣聊数据结构与算法</a><span class="category-list-count">6</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/职业生涯浅谈/">>
                                职业生涯浅谈</a><span class="category-list-count">33</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/Java项目分享/">>
                                Java项目分享</a><span class="category-list-count">1</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/Java面试经验/">>
                                Java面试经验</a><span class="category-list-count">4</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/我要进大厂/">>
                                我要进大厂</a><span class="category-list-count">1</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/好好学java/">>
                                好好学java</a><span class="category-list-count">1116</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/剑指offer/">>
                                剑指offer</a><span class="category-list-count">112</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/css/">>
                                css</a><span class="category-list-count">12</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/其他框架/">>
                                其他框架</a><span class="category-list-count">142</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/python其他/">>
                                python其他</a><span class="category-list-count">45</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/数据库相关/">>
                                数据库相关</a><span class="category-list-count">293</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/Java核心知识/">>
                                Java核心知识</a><span class="category-list-count">196</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/Java面试题/">>
                                Java面试题</a><span class="category-list-count">308</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/mybatis源码/">>
                                mybatis源码</a><span class="category-list-count">56</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/spring教程/">>
                                spring教程</a><span class="category-list-count">173</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/springboot教程/">>
                                springboot教程</a><span class="category-list-count">156</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/实战Activiti工作流/">>
                                实战Activiti工作流</a><span class="category-list-count">4</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/springcloud教程/">>
                                springcloud教程</a><span class="category-list-count">39</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/linux/">>
                                linux</a><span class="category-list-count">91</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/python框架/">>
                                python框架</a><span class="category-list-count">43</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/python基础/">>
                                python基础</a><span class="category-list-count">78</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/dubbo/">>
                                dubbo</a><span class="category-list-count">37</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/Java源码/">>
                                Java源码</a><span class="category-list-count">76</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/叽叽喳喳杂七杂八/">>
                                叽叽喳喳杂七杂八</a><span class="category-list-count">10</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/MySQL的艺术世界/">>
                                MySQL的艺术世界</a><span class="category-list-count">8</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/jquery/">>
                                jquery</a><span class="category-list-count">14</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/Java并发/">>
                                Java并发</a><span class="category-list-count">43</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/Java文章合辑/">>
                                Java文章合辑</a><span class="category-list-count">11</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/Java基础修炼/">>
                                Java基础修炼</a><span class="category-list-count">7</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/不一样的Java8/">>
                                不一样的Java8</a><span class="category-list-count">3</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/小程序开发的世界/">>
                                小程序开发的世界</a><span class="category-list-count">1</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/Java学习资源分享/">>
                                Java学习资源分享</a><span class="category-list-count">1</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/Java小学生漫游/">>
                                Java小学生漫游</a><span class="category-list-count">2</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/rocketmq源码解析/">>
                                rocketmq源码解析</a><span class="category-list-count">33</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/springmvc最新教程/">>
                                springmvc最新教程</a><span class="category-list-count">9</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/Java的Exception/">>
                                Java的Exception</a><span class="category-list-count">6</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/vue-js/">>
                                vue.js</a><span class="category-list-count">10</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/实战设计模式/">>
                                实战设计模式</a><span class="category-list-count">1</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/python数据处理/">>
                                python数据处理</a><span class="category-list-count">7</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/Java-Web闯关/">>
                                Java Web闯关</a><span class="category-list-count">7</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/springboot2-0最新教程/">>
                                springboot2.0最新教程</a><span class="category-list-count">11</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/netty/">>
                                netty</a><span class="category-list-count">16</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/rpc/">>
                                rpc</a><span class="category-list-count">13</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/拥抱大厂系列/">>
                                拥抱大厂系列</a><span class="category-list-count">6</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/eureka/">>
                                eureka</a><span class="category-list-count">19</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/分布式/">>
                                分布式</a><span class="category-list-count">6</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/中间件/">>
                                中间件</a><span class="category-list-count">23</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/Java基础/">>
                                Java基础</a><span class="category-list-count">1</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/带你学Python/">>
                                带你学Python</a><span class="category-list-count">10</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/使用技术工具/">>
                                使用技术工具</a><span class="category-list-count">1</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/mycat源码/">>
                                mycat源码</a><span class="category-list-count">5</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/深入理解Java虚拟机/">>
                                深入理解Java虚拟机</a><span class="category-list-count">8</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/spring源码/">>
                                spring源码</a><span class="category-list-count">2</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/Java集合源码分析/">>
                                Java集合源码分析</a><span class="category-list-count">1</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/github的repo/">>
                                github的repo</a><span class="category-list-count">1</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/Java框架深究/">>
                                Java框架深究</a><span class="category-list-count">1</span>
                        </li>
                        
                        <li class="category-list-item"><a class="category-list-link" href="categories/分布式架构/">>
                                分布式架构</a><span class="category-list-count">2</span>
                        </li>
                        
                        
                    </ul>
                </div>
            </div>

        </aside>









    </div>
</div>

<!-- TOC 悬浮按钮. 修改成永远不显示：欧阳思海-->




<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4, h5'
        });

        console.log('============');

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4, h5').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

                        
            /* 修复文章卡片 div 的宽度. */
            let fixPostCardWidth = function (srcId, targetId) {
                let srcDiv = $('#' + srcId);
                if (srcDiv.length === 0) {
                    return;
                }

                let w = srcDiv.width();
                if (w >= 450) {
                    w = w + 21;
                } else if (w >= 350 && w < 450) {
                    w = w + 18;
                } else if (w >= 300 && w < 350) {
                    w = w + 16;
                } else {
                    w = w + 14;
                }
                $('#' + targetId).width(w);
            };

            // 切换TOC目录展开收缩的相关操作.
            // 修改右侧边栏功能：欧阳思海
            const expandedClass = 'expanded';
            let $tocAside = $('#toc-aside');
            let $mainContent = $('#main-content');

            $('#floating-toc-btn .btn-floating').click(function () {
                if ($tocAside.hasClass(expandedClass)) {
                    $tocAside.removeClass(expandedClass).slideUp(500);
                    $mainContent.removeClass('l9');
                } else {
                    $tocAside.addClass(expandedClass).slideDown(500);
                    $mainContent.addClass('l9');
                }
                fixPostCardWidth('artDetail', 'prenext-posts');
            });
                        
                    });
</script>
    

</main>


        <footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            
	    Copyright&copy; 2019 <a href="https://www.java1000.com/" target="_blank"> 好好学java </a>维护. 网站备案/许可证号：赣ICP备17007984号-3
            <br>
            <span id="sitetime"></span>
            <br>

            

            
                    <!-- 
                        <span id="busuanzi_container_site_pv" style='display:none'></span>
                        总访问量: <span id="busuanzi_value_site_pv" class="white-color"></span>
                    
        
                    
                        <span id="busuanzi_container_site_uv" style='display:none'></span>
                        人次&nbsp; | &nbsp;访客人数: <span id="busuanzi_value_site_uv" class="white-color"></span> 人
                     -->
                        <!-- 修改计数：欧阳思海 -->
                    
                        <span id="busuanzi_container_site_pv" style='display:inline'>
                            <i class="fa fa-heart-o"></i>
                            本站总访问量 <span id="busuanzi_value_site_pv" class="white-color"></span>
                        </span>
                    
                    
                        <span id="busuanzi_container_site_uv" style='display:none'>
                            人次,&nbsp;访客数 <span id="busuanzi_value_site_uv" class="white-color"></span> 人.
                        </span>
                    
    
            

            
                &nbsp; | &nbsp;字数统计:&nbsp;
                <span class="white-color">8290.3k</span> 字
            

            
            <br>

        </div>

        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/OUYANGSIHAI/JavaInterview" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-code-branch"></i>
    </a>


 
    <a href="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=1446037005@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>




    <a href="https://zhihu.com/people/hai-hai-ren-sheng-50/activities" class="tooltipped" target="_blank" data-tooltip="访问我的知乎" data-position="top" data-delay="50">
        <i class="fa fa-inverse">知</i>
    </a>









    <a href="https://blog.ouyangsihai.cn/sitemap.xml" class="tooltipped" target="_blank" data-tooltip="站点地图" data-position="top" data-delay="50">
        <i class="fa fa-sitemap"></i>
    </a>



    <a href="https://blog.ouyangsihai.cn/friends" class="tooltipped" target="_blank" data-tooltip="友情链接" data-position="top" data-delay="50">
        <i class="fa fa-address-book"></i>
    </a>
</div>

    </div>
</footer>

<div class="progress-bar"></div>

<script language=javascript>
    function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth() + 1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();

        /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
        year - 作为date对象的年份，为4位年份值
        month - 0-11之间的整数，做为date对象的月份
        day - 1-31之间的整数，做为date对象的天数
        hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
        minutes - 0-59之间的整数，做为date对象的分钟数
        seconds - 0-59之间的整数，做为date对象的秒数
        microseconds - 0-999之间的整数，做为date对象的毫秒数 */

        var t1 = Date.UTC(2019, 08, 10, 00, 00, 00); //北京时间2019-8-1 00:00:00
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2 - t1;
        var diffYears = Math.floor(diff / years);
        var diffDays = Math.floor((diff / days) - diffYears * 365);
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes *
            minutes) / seconds);
        document.getElementById("sitetime").innerHTML = "本站已运行 " + diffYears + " 年 " + diffDays + " 天 " + diffHours +
            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒" ;
    } /*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
    siteTime();
</script>

<!-- 修改计数：欧阳思海 -->
<script>
    $(document).ready(function () {

        var int = setInterval(fixCount, 50);  // 50ms周期检测函数
        var pvcountOffset = 1005469;  // 初始化首次数据
        var uvcountOffset = 250804;

        function fixCount() {
            if (document.getElementById("busuanzi_container_site_pv").style.display != "none") {
                $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + pvcountOffset);
                clearInterval(int);
            }
            if ($("#busuanzi_container_site_pv").css("display") != "none") {
                $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + uvcountOffset); // 加上初始数据 
                clearInterval(int); // 停止检测
            }
        }
    });
</script>




        <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    console.log("lets go！");
    console.log("/");
    searchFunc("/" + "search.json", 'searchInput', 'searchResult');
});
</script>
        <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


        <script src="/libs/materialize/materialize.min.js"></script>
        <script src="/libs/masonry/masonry.pkgd.min.js"></script>
        <script src="/libs/aos/aos.js"></script>
        <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
        <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
        <script src="/js/matery.js"></script>

        <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-149362573-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'UA-149362573-1');
</script>



        
            <script src="/libs/others/clicklove.js"></script>
        

        
            <script async src="/libs/others/busuanzi.pure.mini.js"></script>
        

        <!-- 洪卫 shw2018 add 2019.08.28 -->
        <script type="text/javascript">
            var OriginTitile = document.title,
                st;
            document.addEventListener("visibilitychange", function () {
                document.hidden ? (document.title = "看不见我🙈~看不见我🙈~", clearTimeout(st)) : (document.title =
                    "(๑•̀ㅂ•́) ✧被发现了～", st = setTimeout(function () {
                        document.title = OriginTitile
                    }, 3e3))
            })
        </script>

        <!-- 鼠标点击烟花爆炸效果  洪卫 shw2018 add 2019.09.09 -->
        

        <!-- 背景雪花飘落特效洪卫 shw2018 add 2019.09.10 -->
        

        <!-- 鼠标点击文字特效 洪卫 shw2018 add 2019.09.10-->
        

        <!-- 背景雪花飘落特效 洪卫 shw2018 add 2019.09.10 -->
        

        <!-- 在线聊天工具  洪卫 shw2018 add 2019.09.11 -->
        

        <!-- 背景 canvas-nest  洪卫 shw 2018  add 2019.09.15-->
        

        <!-- 背景静止彩带  洪卫 shw 2018  add 2019.09.15-->
        

        <!-- 背景动态彩带 洪卫 shw 2018  add 2019.09.15-->
        

    </body>
</html>